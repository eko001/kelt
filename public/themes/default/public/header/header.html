<header class="header">
  <div class="header_box main-center">
    <div class="header_box_logo">
      <img src="__TMPL__/static/img/logo.jpg" alt="">
    </div>

    <!-- pc端显示 -->
    <div class="header_box_nav">
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/index/index')}">首页</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/Carbontrace/index')}">碳足迹</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/Products/index')}">产品</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/Supplychain/index')}">供应链</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/Warehouse/index')}">仓储</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/Building/index')}">建筑设计建造</a>
      </div>
      <div class="header_box_nav_item">
        <a href="{:cmf_url('portal/About/index')}">关于我们</a>
      </div>
    </div>
    <div class="header_box_btn">
      <a href="http://www.ecocarbontrace.com/" target="_blank">登录</a>
    </div>
    <div class="header_box_language">
      <a href="?_design_theme=default_en-us"> <img src="__TMPL__/static/img/language.png" alt=""></a>
      <!--      <a href="?_design_theme=default">中文</a>|<a href="?_design_theme=default_en-us">En</a>-->
    </div>

    <!-- 手机和平板 -->
    <div class="header_box_phone_btn">
      <img class="header_box_phone_btn_menu" src="__TMPL__/static/img/menu.png" alt="">
      <img class="header_box_phone_btn_close" src="__TMPL__/static/img/close.png" alt="">
    </div>
  </div>

  <div class="header_box_phone_navBox">
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/index/index')}">首页</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/Carbontrace/index')}">碳足迹</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/Products/index')}">产品</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/Supplychain/index')}">供应链</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/Warehouse/index')}">仓储</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/Building/index')}">建筑设计建造</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="{:cmf_url('portal/About/index')}">关于我们</a>
    </div>
    <div class="header_box_phone_navBox_item">
      <a href="http://www.ecocarbontrace.com/" target="_blank">登录</a>
    </div>

    <div class="header_box_phone_navBox_img">
      <a href="?_design_theme=default_en-us"> <img src="__TMPL__/static/img/language.png" alt=""></a>
    </div>
  </div>
  <taglib name="app\portal\taglib\Portal" />
</header>

<script>
  var path = window.location.pathname
  var headerBoxNavItems = document.querySelectorAll('.header_box_nav_item')

  headerBoxNavItems.forEach(function (item) {
    var a = item.querySelector('a')
    if (a.getAttribute('href') === path) {
      item.classList.add('active')
    }
  })

  if (path == '/') {
    headerBoxNavItems.forEach(function (item) {
      item.classList.remove('active')
    })
    headerBoxNavItems[0].classList.add('active')
  }

  // 手机端导航
  var headerBoxPhoneBtnMenu = document.getElementsByClassName('header_box_phone_btn_menu')[0]
  var headerBoxPhoneBtnClose = document.getElementsByClassName('header_box_phone_btn_close')[0]
  var headerBoxPhoneNavBox = document.getElementsByClassName('header_box_phone_navBox')[0]
  headerBoxPhoneBtnMenu.onclick = function () {
    headerBoxPhoneBtnClose.style = 'display : block'
    headerBoxPhoneBtnMenu.style = 'display : none'
    headerBoxPhoneNavBox.style = 'transform : translateY(0)'
  }
  headerBoxPhoneBtnClose.onclick = function () {
    headerBoxPhoneBtnClose.style = 'display : none'
    headerBoxPhoneBtnMenu.style = 'display : block'
    headerBoxPhoneNavBox.style = 'transform : translateY(-100%)'
  }
</script>